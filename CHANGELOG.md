# è·¯å¾„æ”¯æŒæ”¹è¿›æ€»ç»“

## ğŸ¯ é—®é¢˜æè¿°

ç”¨æˆ·æŒ‡å‡º `setupKeybindingsFolder` å‡½æ•°ä¸­ï¼Œç”¨æˆ·è¾“å…¥çš„åº”è¯¥æ˜¯**æ–‡ä»¶å¤¹è·¯å¾„**è€Œä¸æ˜¯**æ–‡ä»¶å¤¹åç§°**ã€‚

## âœ… è§£å†³æ–¹æ¡ˆ

### 1. å¢å¼ºçš„è·¯å¾„æ”¯æŒ

ç°åœ¨ `keybindingsManager.folder` é…ç½®æ”¯æŒï¼š

**ç›¸å¯¹è·¯å¾„**ï¼ˆç›¸å¯¹äºç”¨æˆ·é…ç½®ç›®å½•ï¼‰ï¼š
- `"keybindings"` 
- `"my-configs/keybindings"`
- `"subfolder\\nested"`

**ç»å¯¹è·¯å¾„**ï¼š
- Windows: `"D:\\my-keybindings"`
- Unix/Linux: `"/home/user/keybindings"`
- macOS: `"/Users/username/Documents/keybindings"`

### 2. ä¿®æ”¹çš„æ–‡ä»¶

#### `src/initialization.ts`
- **`setupKeybindingsFolder()`** - æ›´æ–°æç¤ºæ–‡æœ¬å’ŒéªŒè¯é€»è¾‘ï¼Œæ”¯æŒç»å¯¹/ç›¸å¯¹è·¯å¾„
- **`migrateExistingKeybindings()`** - æ›´æ–°æ–‡ä»¶å¤¹è·¯å¾„å¤„ç†é€»è¾‘

#### `src/fileOperations.ts`
- **`getAllKeybindingsFiles()`** - å¢å¼ºè·¯å¾„è§£æï¼Œæ”¯æŒç»å¯¹è·¯å¾„

#### `src/watcher.ts`
- **`watchKeybindingsFiles()`** - æ›´æ–°æ–‡ä»¶ç›‘å¬å™¨çš„è·¯å¾„å¤„ç†

### 3. ç”¨æˆ·ä½“éªŒæ”¹è¿›

#### è¾“å…¥æç¤ºæ›´æ–°
```
æ—§ç‰ˆæœ¬: 'è¾“å…¥keybindingsæ–‡ä»¶å¤¹åç§°'
æ–°ç‰ˆæœ¬: 'è¾“å…¥keybindingsæ–‡ä»¶å¤¹è·¯å¾„ï¼ˆç›¸å¯¹äºç”¨æˆ·é…ç½®ç›®å½•æˆ–ç»å¯¹è·¯å¾„ï¼‰'
```

#### å ä½ç¬¦ç¤ºä¾‹
```
æ—§ç‰ˆæœ¬: 'keybindings'
æ–°ç‰ˆæœ¬: 'keybindings æˆ– D:\\my-keybindings'
```

#### éªŒè¯é€»è¾‘å¢å¼º
- è‡ªåŠ¨è¯†åˆ«ç»å¯¹è·¯å¾„ vs ç›¸å¯¹è·¯å¾„
- å¯¹ç»å¯¹è·¯å¾„å…è®¸ä»»ä½•æœ‰æ•ˆå­—ç¬¦
- å¯¹ç›¸å¯¹è·¯å¾„è¿›è¡Œé€‚å½“çš„å­—ç¬¦éªŒè¯

### 4. è·¯å¾„å¤„ç†é€»è¾‘

```typescript
// åˆ¤æ–­æ˜¯ç»å¯¹è·¯å¾„è¿˜æ˜¯ç›¸å¯¹è·¯å¾„
if (path.isAbsolute(folderPath)) {
    actualFolderPath = folderPath;        // ç›´æ¥ä½¿ç”¨ç»å¯¹è·¯å¾„
    configValue = folderPath;             // ä¿å­˜ç»å¯¹è·¯å¾„åˆ°é…ç½®
} else {
    actualFolderPath = path.join(userConfigPath, folderPath);  // ç›¸å¯¹è·¯å¾„æ‹¼æ¥
    configValue = folderPath;             // ä¿å­˜ç›¸å¯¹è·¯å¾„åˆ°é…ç½®
}
```

## ğŸ§ª æµ‹è¯•éªŒè¯

åˆ›å»ºäº† `path-test.ts` éªŒè¯è·¯å¾„å¤„ç†åŠŸèƒ½ï¼š

```
âœ… ç›¸å¯¹è·¯å¾„ - ç®€å•æ–‡ä»¶å¤¹å: keybindings
âœ… ç›¸å¯¹è·¯å¾„ - åµŒå¥—æ–‡ä»¶å¤¹: my-keybindings/custom  
âœ… ç»å¯¹è·¯å¾„ - Windowsè·¯å¾„: C:\Users\Public\keybindings
âœ… ç»å¯¹è·¯å¾„ - Unixè·¯å¾„: /home/user/my-keybindings
```

## ğŸ“š æ–‡æ¡£æ›´æ–°

- **README.md** - æ›´æ–°é…ç½®è¯´æ˜ï¼Œæ·»åŠ è·¯å¾„ç¤ºä¾‹
- **STRUCTURE.md** - è®°å½•è·¯å¾„æ”¯æŒæ”¹è¿›
- **æµ‹è¯•æ–‡æ¡£** - é€šè¿‡æ‰€æœ‰ç°æœ‰æµ‹è¯•ï¼Œæ— å›å½’é—®é¢˜

## ğŸ‰ æˆæœ

1. **å‘åå…¼å®¹** - åŸæœ‰çš„ç›¸å¯¹è·¯å¾„é…ç½®ç»§ç»­å·¥ä½œ
2. **å¢å¼ºçµæ´»æ€§** - æ”¯æŒç»å¯¹è·¯å¾„ï¼Œé€‚åº”ä¸åŒç”¨æˆ·éœ€æ±‚  
3. **ç”¨æˆ·å‹å¥½** - æ›´æ¸…æ™°çš„æç¤ºå’Œç¤ºä¾‹
4. **å…¨é¢æ”¯æŒ** - æ‰€æœ‰ç›¸å…³æ¨¡å—éƒ½å·²æ›´æ–°æ”¯æŒæ–°çš„è·¯å¾„å¤„ç†
5. **æµ‹è¯•éªŒè¯** - é€šè¿‡å®Œæ•´æµ‹è¯•å¥—ä»¶ï¼Œç¡®ä¿åŠŸèƒ½æ­£ç¡®æ€§

ç°åœ¨ç”¨æˆ·å¯ä»¥ï¼š
- ä½¿ç”¨ç®€å•åç§°ï¼š`"keybindings"`
- ä½¿ç”¨ç›¸å¯¹è·¯å¾„ï¼š`"my-configs/keybindings"`  
- ä½¿ç”¨ç»å¯¹è·¯å¾„ï¼š`"D:\\my-keybindings"` æˆ– `"/home/user/keybindings"`

è¿™å¤§å¤§æé«˜äº†æ‰©å±•çš„çµæ´»æ€§å’Œå¯ç”¨æ€§ï¼
